<% if !object.nil? && object.errors.any? %>
  <%= content_tag("div", :class => defined?(compact) ? "compact_error" : "error") do %>

    <%# print a prefix (Error:) unless in compact mode%>
    <%= t("common.error").pluralize(object.errors.size) + ":" unless defined?(compact) %>
    
    <%# print a custom prefix if defined %>
    <%= prefix if defined?(prefix) %>
    
    <%# print the errors %>
    <%= object.errors.full_messages.join(", ") %>
  <% end %>
<% end %>