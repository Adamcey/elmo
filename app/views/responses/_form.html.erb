<%= resp.answers.collect{|a| a.errors.full_messages.join(", ")}.join(" ") %>
<%= basic_form(resp) do |f|
  spec = {
    :sections => [{
      :name => "Response Info",
      :fields => [{
        :col => :form_id,
        :value => f.hidden_field(:form_id),
        :hidden => true
      },{
        :col => :user_id,
        :label => "Submitter",
        :required => true,
        :value => f.select(:user_id, User.select_options, :include_blank => true),
      },{
        :col => :observed_at_str,
        :label => "Observation Time",
        :required => true,
        :value => f.text_field(:observed_at_str),
        :details => "Enter the date and time of the observation. Include the timezone offset if needed.<br/>
          e.g. 2003-01-24 12:34PM +0300."
      },{
        :col => :place_id,
        :label => "Place",
        :value => place_field(f)
      },{
        :col => :reviewed,
        :label => "Reviewed?",
        :value => f.mode == :show ? 
          content_tag("div", :class => "dummy"){resp.reviewed? ? "Yes" : "No"} : 
          f.check_box(:reviewed?)
      }]
    },{
      :contents => answers_subform(resp.all_answers)
    }]
  }
end
%>