<div class="select-one-answers">
  <% answer_set.answers.each_with_index do |answer, i| %>
    <div>
      <% if answer.level_name && !(read_only && answer_set.blank?) %>
        <div class="level-name"><%= answer.level_name %></div>
      <% end %>
      <% if read_only %>
        <% unless answer_set.blank? %>
          <div class="option-name">
            <%# Show 'blank' for partially empty multilevel answers. %>
            <% if answer.blank? %>
              <i>[<%= t('common.blank') %>]</i>
            <% else %>
              <%= answer.option.name %>
            <% end %>
          </div>
        <% end %>
      <% else %>
        <%= select_tag("response[answer_sets][#{index}][answers][#{i}][option_id]",
          options_from_collection_for_select(answer_set.options_for(answer), 'id', 'name', answer.option_id),
          include_blank: true, class: 'form-control') %>
      <% end %>
    </div>
  <% end %>
</div>

<% if !read_only && answer_set.multi_level? %>
  <%= javascript_doc_ready do %>
    new ELMO.Views.SelectOneAnswerSetView({
      el: $('#qing_<%= answer_set.questioning_id %> .control'),
      option_set_id: <%=json answer_set.option_set.id %>
    });
  <% end %>
<% end %>