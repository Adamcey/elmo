<% unless empty_qing_group?(subtree) %>

  <% children = subtree.keys %>
  <% grid_mode = grid_mode?(children) %>

  <group appearance="field-list">
    <label ref="jr:itext('name<%= group.id %>:label')"/>

    <input ref="<%= "/data/hint#{group.id}"%>">
        <hint ref="jr:itext('hint<%= group.id %>:hint')"/>
    </input>

    <%# In grid mode, we need to render a special label row that prints the available options at the top of the grid. %>
    <% if grid_mode %>
      <%= render('odk_questioning', qing: children.first, grid_mode: true, label_row: true) %>
    <% end %>

    <%# Render children. %>
    <% subtree.each do |item, subsubtree| %>
      <%= render('odk_questioning', qing: item, grid_mode: grid_mode) unless item.hidden %>
    <% end %>
  </group>
<% end %>
